---
import GameControls from '~components/GameControls'
import questions from '~data/questions.json'
import Layout from '~layouts/Layout.astro'

export async function getStaticPaths() {
  // loop through questions
  return Object.entries(questions).map(([id, entries]) =>
    // loop through languages in each question
    Object.entries(entries).map(([language, question]) => ({
      params: {id, language},
      props: {question},
    }))
  )
}

const {question} = Astro.props
const {language} = Astro.params

const splitText = question.includes('?') ? '? ' : 'ï¼Ÿ'
---

<Layout>
  <div class='flex h-full w-full justify-center p-4 pb-16'>
    <h1
      class='self-center text-5xl text-white md:max-w-[80vw] md:text-7xl phone-landscape:text-2xl'
    >
      {
        question
          .trim()
          .split(splitText)
          .map((el: string) => (
            <>
              {el}
              {splitText}
              <br />
              <br />
            </>
          ))
      }
    </h1>
    <GameControls language={language} />
  </div>
</Layout>
