---
import {Icon} from 'astro-icon/components'
import {type PurchaseSelect} from '~server/db'

export interface Props {
  purchase: PurchaseSelect
  class?: string
}

const {purchase, class: classes} = Astro.props
const baseId = purchase.id.split('_')
const id = baseId[baseId.length - 1].slice(-16)
---

<div
  class='flex text-sm lg:text-xl text-gray-dark flex-col items-center md:items-start md:justify-start justify-center text-center md:text-start gap-4 md:gap-5 border rounded-xl p-5'
  class:list={[classes]}
>
  <Icon name='thumbs-up' class='w-16 h-16' />
  <h1
    class='text-4xl text-white lg:text-6xl md:pt-4 md:pb-2 font-bold font-title tracking-tight leading-tight'
  >
    Thank you for<br />your contribution
  </h1>
  <p>Your support makes a difference!</p>
  <Icon name='divider' class='w-64 py-2 md:hidden' />
  <Icon name='divider-left' class='w-3/4 py-4 hidden md:block' />
  <p class='text-xs md:text-sm uppercase font-semibold'>Purchase details</p>
  <h2 class='text-6xl text-white font-semibold pb-2'>â‚¬{purchase.price / 100}</h2>
  <div class='flex flex-col gap-3'>
    <p>Plan: {purchase.category}</p>
    <p>Date: {purchase.date.toDateString()}</p>
    <p>ID: {id}</p>
  </div>
</div>
