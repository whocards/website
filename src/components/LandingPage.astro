---
import Layout from '~layouts/Layout.astro'
---

<Layout>
  <section
    class='m-4 flex flex-col justify-center gap-6 text-center md:mb-16 md:max-w-[80vw] md:gap-8 lg:gap-12'
  >
    <h1
      class='font-aptly text-7xl font-extrabold leading-none tracking-tight text-white md:text-8xl xl:text-9xl'
    >
      <span class='whitespace-nowrap'>Dare to</span>
      <span class='whitespace-nowrap'
        ><span class='text-primary-light'>Open</span>
        <span class='text-primary-dark'>Up</span>?</span
      >
    </h1>
    <p class='text-gradient max-w-[85%] self-center text-xl md:max-w-[70%] md:text-2xl lg:text-4xl'>
      From our hearts to yours we hope the WhoCards bring more connection into your life<br /><span
        class='text-white'>üôè</span
      >
    </p>
    <div
      id='play-wrapper'
      class='flex flex-col items-center gap-8 opacity-0 transition-opacity duration-500 md:flex-row md:justify-center'
    >
      <a id='play' class='btn-primary btn'>Play</a>
      <button class='who-modal btn-secondary btn'> Choose Language</button>
    </div>
  </section>
</Layout>

<script>
  import {initGame, idsStore} from '~stores/Game.store'
  import {getFirstQuestionUrl} from '~utils'
  import {allTasks} from 'nanostores'

  const init = async () => {
    initGame()
    await allTasks()

    document
      .getElementById('play')
      ?.setAttribute('href', getFirstQuestionUrl(idsStore.get().current))
    document.getElementById('play-wrapper')?.classList.remove('opacity-0')
  }

  init()
</script>
