---
import Icon from 'astro-icon'

interface Props {
  title: string
}
const {title} = Astro.props
---

<input type='checkbox' id='who-modal' class='modal-toggle' aria-label='modal toggle' />
<div role='dialog' class='modal z-20'>
  <label class='fixed top-0 right-0 bottom-0 left-0 z-30 cursor-pointer' for='who-modal'></label>
  <div
    class='z-40 h-full w-full bg-white text-darker md:h-fit md:max-w-2xl md:rounded-lg phone-landscape:max-w-full'
  >
    <div class='flex h-16 items-center justify-between pl-4 pr-3'>
      <h3 class='text-2xl font-bold'>{title}</h3>
      <label for='who-modal' class='btn-ghost btn-circle btn'>
        <Icon name='ic:round-close' class='h-8 w-8 cursor-pointer' />
      </label>
    </div>
    <slot />
  </div>
</div>

<script>
  const buttons = document.querySelectorAll('.who-modal')
  const target = document.querySelector('#who-modal') as HTMLInputElement

  buttons.forEach((button) => {
    button.addEventListener('click', () => {
      setTimeout(() => {
        target.checked = !target.checked
      }, 400)
    })
  })
</script>
